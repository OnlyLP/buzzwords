(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ceef7"],{6227:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleClick()}}},[t._v("增加参数")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[r("el-table-column",{attrs:{prop:"paramId",label:"ID",width:"180"}}),r("el-table-column",{attrs:{prop:"name",label:"参数名",width:"180"}}),r("el-table-column",{attrs:{prop:"value",label:"参数值",width:"380"}}),r("el-table-column",{attrs:{prop:"remark",label:"参数说明",width:"380"}}),r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.handleClick(e.row)}}},[t._v("编辑")]),r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.delClick(e.row)}}},[t._v("删除")])]}}])})],1),r("el-dialog",{attrs:{title:"系统参数",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"参数名",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"参数值",prop:"value"}},[r("el-input",{attrs:{autocomplete:"off",type:"number"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),r("el-form-item",{attrs:{label:"参数说明",prop:"remark"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("form")}}},[t._v("保 存")])],1)],1)],1)},l=[],o=r("b775");function i(t){return Object(o["a"])({url:"http://127.0.0.1:8080/admin/sysparam/list",method:"get",params:t})}function n(t){return Object(o["a"])({url:"http://127.0.0.1:8080/admin/sysparam/edit",method:"get",params:t})}function s(t){return Object(o["a"])({url:"http://127.0.0.1:8080/admin/sysparam/save",method:"post",params:t})}function u(t){return Object(o["a"])({url:"http://127.0.0.1:8080/admin/sysparam/del",method:"get",params:t})}var m={data:function(){var t=function(t,e,r){if(!e)return r(new Error("参数值不能为空"));setTimeout((function(){e<1?r(new Error("参数值大于等于1")):r()}),1e3)};return{dialogFormVisible:!1,list:null,listLoading:!0,form:{name:"",value:"",paramId:"",remark:""},rules:{name:[{required:!0,message:"请输入参数名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],remark:[{required:!0,message:"请输入参数说明",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],value:[{validator:t,trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,i().then((function(e){t.list=e.data,t.listLoading=!1}))},handleClick:function(t){var e=this;this.form={name:"",value:"",paramId:"",remark:""},this.dialogFormVisible=!0,t&&n(t).then((function(t){e.form=t.data}))},delClick:function(t){var e=this;this.$confirm("确认删除？").then((function(r){e.listLoading=!0,u(t).then((function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.fetchData()}))})).catch((function(t){}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.listLoading=!0,s(e.form).then((function(t){e.$message({message:"保存成功",type:"success"}),e.fetchData(),e.dialogFormVisible=!1}))}))}}},c=m,f=r("2877"),d=Object(f["a"])(c,a,l,!1,null,null,null);e["default"]=d.exports}}]);